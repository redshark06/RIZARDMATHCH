<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LizardMatch - ì¶”ì²œ ê²°ê³¼</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¦ LizardMatch</h1>
            <p class="subtitle">íŒŒì¶©ë¥˜/ì–‘ì„œë¥˜ ì¢… ì¶”ì²œ ì„œë¹„ìŠ¤</p>
        </header>

        <main class="results-container">
            <div id="loadingMessage" class="loading-message" style="display: none;">
                ì¶”ì²œ ê²°ê³¼ë¥¼ ìƒì„±í•˜ëŠ” ì¤‘...
            </div>

            <div id="errorMessage" class="error-message" style="display: none;"></div>

            <div id="resultsContent" class="results-content">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>

            <div class="form-actions">
                <button type="button" id="restartBtn" class="btn btn-secondary">ì„¤ë¬¸ ë‹¤ì‹œí•˜ê¸°</button>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê²°ê³¼ í‘œì‹œ
        document.addEventListener('DOMContentLoaded', () => {
            // URL íŒŒë¼ë¯¸í„°ì—ì„œ ê²°ê³¼ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            const urlParams = new URLSearchParams(window.location.search);
            const resultsJson = urlParams.get('results');
            
            if (resultsJson) {
                try {
                    const results = JSON.parse(decodeURIComponent(resultsJson));
                    displayResults(results);
                } catch (e) {
                    console.error('ê²°ê³¼ íŒŒì‹± ì˜¤ë¥˜:', e);
                    document.getElementById('errorMessage').textContent = 'ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
                    document.getElementById('errorMessage').style.display = 'block';
                }
            } else {
                // sessionStorageì—ì„œ ê°€ì ¸ì˜¤ê¸°
                const resultsStr = sessionStorage.getItem('recommendationResults');
                if (resultsStr) {
                    try {
                        const results = JSON.parse(resultsStr);
                        displayResults(results);
                    } catch (e) {
                        console.error('ê²°ê³¼ íŒŒì‹± ì˜¤ë¥˜:', e);
                        document.getElementById('errorMessage').textContent = 'ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
                        document.getElementById('errorMessage').style.display = 'block';
                    }
                } else {
                    document.getElementById('errorMessage').textContent = 'ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
                    document.getElementById('errorMessage').style.display = 'block';
                }
            }
        });

        // ì„¤ë¬¸ ë‹¤ì‹œí•˜ê¸° ë²„íŠ¼
        document.getElementById('restartBtn').addEventListener('click', () => {
            // sessionStorage ì´ˆê¸°í™”
            sessionStorage.clear();
            // index.htmlë¡œ ì´ë™
            window.location.href = 'index.html?reset=true';
        });
    </script>
</body>
</html>

